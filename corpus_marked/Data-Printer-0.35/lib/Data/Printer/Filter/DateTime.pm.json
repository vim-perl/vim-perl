[["Statement","package"],["Type"," Data::Printer::Filter::DateTime"],["",";\n"],["Statement","use strict"],["",";\n"],["Statement","use warnings"],["",";\n"],["Statement","use "],["","Data::Printer::Filter;\n"],["Statement","use "],["","Term::ANSIColor;\n\nfilter "],["String","'Time::Piece'"],["",", "],["Keyword","sub "],["","{\n    "],["Statement","return"],[""," _format("],["Identifier","$_["],["Number","0"],["Identifier","]"],["","->cdate, "],["Identifier","@_"],[""," );\n};\n\nfilter "],["String","'DateTime'"],["",", "],["Keyword","sub "],["","{\n    "],["Statement","my"],[""," ("],["Identifier","$obj"],["",", "],["Identifier","$p"],["",") = "],["Identifier","@_"],["",";\n    "],["Statement","my"],[""," "],["Identifier","$string"],[""," = "],["String","\""],["Identifier","$obj"],["String","\""],["",";\n    "],["Conditional","if"],[""," ( "],["Operator","not"],[""," "],["Statement","exists"],[""," "],["Identifier","$p->{"],["String","datetime"],["Identifier","}{"],["String","show_timezone"],["Identifier","}"],[""," "],["Operator","or"],[""," "],["Identifier","$p->{"],["String","datetime"],["Identifier","}{"],["String","show_timezone"],["Identifier","}"],[""," ) {\n        "],["Identifier","$string"],[""," .= "],["String","' ['"],[""," . "],["Identifier","$obj"],["","->time_zone->name . "],["String","']'"],["",";\n    }\n    "],["Statement","return"],[""," _format( "],["Identifier","$string"],["",", "],["Identifier","@_"],[""," );\n};\n\n"],["Comment","# DateTime::TimeZone filters"],["","\nfilter "],["String","'-class'"],[""," => "],["Keyword","sub "],["","{\n    "],["Statement","my"],[""," ("],["Identifier","$obj"],["",", "],["Identifier","$properties"],["",") = "],["Identifier","@_"],["",";\n\n    "],["Conditional","if"],[""," ( "],["Identifier","$obj"],["","->isa("],["String","'DateTime::TimeZone'"],[""," ) ) {\n        "],["Statement","return"],[""," "],["Identifier","$obj"],["","->name;\n    }\n    "],["Conditional","else"],[""," {\n        "],["Statement","return"],["",";\n    }\n};\n\nfilter "],["String","'DateTime::Incomplete'"],["",", "],["Keyword","sub "],["","{\n    "],["Statement","return"],[""," _format( "],["Identifier","$_["],["Number","0"],["Identifier","]"],["","->iso8601, "],["Identifier","@_"],[""," );\n};\n\nfilter "],["String","'DateTime::Duration'"],["",", "],["Keyword","sub "],["","{\n    "],["Statement","my"],[""," ("],["Identifier","$object"],["",", "],["Identifier","$p"],["",") = "],["Identifier","@_"],["",";\n\n    "],["Statement","my"],[""," "],["Identifier","@dur"],[""," = "],["Identifier","$object"],["","->in_units(\n         "],["String","qw(years months days hours minutes seconds)"],["","\n    );\n\n    "],["Statement","my"],[""," "],["Identifier","$string"],[""," = "],["String","\""],["Identifier","$dur["],["Number","0"],["Identifier","]"],["String","y "],["Identifier","$dur["],["Number","1"],["Identifier","]"],["String","m "],["Identifier","$dur["],["Number","2"],["Identifier","]"],["String","d "],["Identifier","$dur["],["Number","3"],["Identifier","]"],["String","h "],["Identifier","$dur["],["Number","4"],["Identifier","]"],["String","m "],["Identifier","$dur["],["Number","5"],["Identifier","]"],["String","s\""],["",";\n\n    "],["Statement","return"],[""," _format( "],["Identifier","$string"],["",", "],["Identifier","@_"],[""," );\n};\n\nfilter "],["String","'DateTime::Tiny'"],["",", "],["Keyword","sub "],["","{\n    "],["Statement","return"],[""," _format( "],["Identifier","$_["],["Number","0"],["Identifier","]"],["","->as_string, "],["Identifier","@_"],[""," );\n};\n\nfilter "],["String","'Date::Calc::Object'"],["",", "],["Keyword","sub "],["","{\n    "],["Statement","return"],[""," _format( "],["Identifier","$_["],["Number","0"],["Identifier","]"],["","->string("],["Number","2"],["","), "],["Identifier","@_"],[""," );\n};\n\nfilter "],["String","'Date::Pcalc::Object'"],["",", "],["Keyword","sub "],["","{\n    "],["Statement","return"],[""," _format( "],["Identifier","$_["],["Number","0"],["Identifier","]"],["","->string("],["Number","2"],["","), "],["Identifier","@_"],[""," );\n};\n\nfilter "],["String","'Date::Handler'"],["",", "],["Keyword","sub "],["","{\n    "],["Statement","return"],[""," _format( "],["String","\""],["Identifier","$_["],["Number","0"],["Identifier","]"],["String","\""],["",", "],["Identifier","@_"],[""," );\n};\n\nfilter "],["String","'Date::Handler::Delta'"],["",", "],["Keyword","sub "],["","{\n    "],["Statement","return"],[""," _format( "],["Identifier","$_["],["Number","0"],["Identifier","]"],["","->AsScalar, "],["Identifier","@_"],[""," );\n};\n\n\n"],["Keyword","sub "],["Function","_format "],["","{\n    "],["Statement","my"],[""," ("],["Identifier","$str"],["",", "],["Identifier","$obj"],["",", "],["Identifier","$p"],["",") = "],["Identifier","@_"],["",";\n\n    "],["Conditional","if"],[""," ( "],["Identifier","$p->{"],["String","datetime"],["Identifier","}{"],["String","show_class_name"],["Identifier","}"],[""," ) {\n        "],["Identifier","$str"],[""," .= "],["String","' ('"],[""," . "],["Operator","ref"],["","("],["Identifier","$obj"],["",") . "],["String","')'"],["",";\n    }\n\n    "],["Statement","my"],[""," "],["Identifier","$color"],[""," = "],["Identifier","$p->{"],["String","color"],["Identifier","}{"],["String","datetime"],["Identifier","}"],["",";\n    "],["Identifier","$color"],[""," = "],["String","'bright_green'"],[""," "],["Conditional","unless"],[""," "],["Operator","defined"],[""," "],["Identifier","$color"],["",";\n\n    "],["Statement","return"],[""," colored( "],["Identifier","$str"],["",", "],["Identifier","$color"],[""," );\n}\n\n"],["Number","1"],["",";\n\n"],["Comment","__END__"],["","\n\n"],["Statement","=head1"],[""," "],["String","NAME"],["","\n\nData::Printer::Filter::DateTime - pretty-printing date and time objects (not just DateTime!)\n\n"],["Statement","=head1"],[""," "],["String","SYNOPSIS"],["","\n\nIn your program:\n\n"],["PreProc","  use Data::Printer filters => {"],["","\n"],["PreProc","    -external => [ 'DateTime' ],"],["","\n"],["PreProc","  };"],["","\n\nor, in your "],["Identifier","C<.dataprinter>"],[""," file:\n\n"],["PreProc","  {"],["","\n"],["PreProc","    filters => {"],["","\n"],["PreProc","       -external => [ 'DateTime' ],"],["","\n"],["PreProc","    },"],["","\n"],["PreProc","  };"],["","\n\nYou can also setup color and display details:\n\n"],["PreProc","  use Data::Printer"],["","\n"],["PreProc","      filters => {"],["","\n"],["PreProc","          -external => [ 'DateTime' ],"],["","\n"],["PreProc","      },"],["","\n"],["PreProc","      color   => {"],["","\n"],["PreProc","          datetime => 'bright_green',"],["","\n"],["PreProc","      }"],["","\n"],["PreProc","      datetime => {"],["","\n"],["PreProc","          show_class_name => 1,  # default is 0"],["","\n"],["PreProc","          show_timezone   => 0,  # default is 1 (only works for DateTime objects)"],["","\n"],["PreProc","      },"],["","\n"],["PreProc","  };"],["","\n\n"],["Statement","=head1"],[""," "],["String","DESCRIPTION"],["","\n\nThis is a filter plugin for "],["Identifier","L<Data::Printer>"],["",". It filters through\nseveral date and time manipulation classes and displays the time\n(or time duration) as a string.\n\n"],["Statement","=head2"],[""," "],["String","Parsed Modules"],["","\n\n"],["Statement","=over"],[""," "],["Number","4"],["","\n\n"],["Statement","=item"],[""," "],["String","* "],["Identifier","L<DateTime>"],["","\n\n"],["Statement","=item"],[""," "],["String","* "],["Identifier","L<DateTime::Duration>"],["","\n\n"],["Statement","=item"],[""," "],["String","* "],["Identifier","L<DateTime::Incomplete>"],["","\n\n"],["Statement","=item"],[""," "],["String","* "],["Identifier","L<Time::Piece>"],["","\n\n"],["Statement","=item"],[""," "],["String","* "],["Identifier","L<Date::Handler>"],["","\n\n"],["Statement","=item"],[""," "],["String","* "],["Identifier","L<Date::Handler::Delta>"],["","\n\n"],["Statement","=item"],[""," "],["String","* "],["Identifier","L<Date::Calc::Object>"],["","\n\n"],["Statement","=item"],[""," "],["String","* "],["Identifier","L<Date::Pcalc::Object>"],["","\n\n"],["Statement","=back"],["","\n\nIf you have any suggestions for more modules or better output,\nplease let us know.\n\n\n"],["Statement","=head1"],[""," "],["String","SEE ALSO"],["","\n\n"],["Identifier","L<Data::Printer>"],["","\n\n\n"]]