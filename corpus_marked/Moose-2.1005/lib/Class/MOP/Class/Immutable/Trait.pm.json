[["Statement","package"],["Type"," Class::MOP::Class::Immutable::Trait"],["",";\n"],["PreProc","BEGIN "],["","{\n  "],["Identifier","$"],["Type","Class::MOP::Class::Immutable::Trait::"],["Identifier","AUTHORITY"],[""," = "],["String","'cpan:STEVAN'"],["",";\n}\n{\n  "],["Identifier","$"],["Type","Class::MOP::Class::Immutable::Trait::"],["Identifier","VERSION"],[""," = "],["String","'2.1005'"],["",";\n}\n\n"],["Statement","use strict"],["",";\n"],["Statement","use warnings"],["",";\n\n"],["Statement","use "],["","MRO::Compat;\n\n"],["Statement","use "],["","Carp "],["String","'confess'"],["",";\n"],["Statement","use "],["","Scalar::Util "],["String","'blessed'"],["",", "],["String","'weaken'"],["",";\n\n"],["Comment","# the original class of the metaclass instance"],["","\n"],["Keyword","sub "],["Function","_get_mutable_metaclass_name "],["","{ "],["Identifier","$_["],["Number","0"],["Identifier","]{"],["String","__immutable"],["Identifier","}{"],["String","original_class"],["Identifier","}"],[""," }\n\n"],["Keyword","sub "],["Function","is_mutable   "],["","{ "],["Number","0"],[""," }\n"],["Keyword","sub "],["Function","is_immutable "],["","{ "],["Number","1"],[""," }\n\n"],["Keyword","sub "],["Function","_immutable_metaclass "],["","{ "],["Operator","ref"],[""," "],["Identifier","$_["],["Number","1"],["Identifier","]"],[""," }\n\n"],["Keyword","sub "],["Function","_immutable_read_only "],["","{\n    "],["Statement","my"],[""," "],["Identifier","$name"],[""," = "],["Statement","shift"],["",";\n    confess "],["String","\"The '"],["Identifier","$name"],["String","' method is read-only when called on an immutable instance\""],["",";\n}\n\n"],["Keyword","sub "],["Function","_immutable_cannot_call "],["","{\n    "],["Statement","my"],[""," "],["Identifier","$name"],[""," = "],["Statement","shift"],["",";\n    Carp::confess "],["String","\"The '"],["Identifier","$name"],["String","' method cannot be called on an immutable instance\""],["",";\n}\n\n"],["Repeat","for"],[""," "],["Statement","my"],[""," "],["Identifier","$name"],[""," ("],["String","qw/superclasses/"],["",") {\n    "],["Statement","no strict"],[""," "],["String","'refs'"],["",";\n    "],["Identifier","*{"],["","__PACKAGE__."],["String","\"::"],["Identifier","$name"],["String","\""],["Identifier","}"],[""," = "],["Keyword","sub "],["","{\n        "],["Statement","my"],[""," "],["Identifier","$orig"],[""," = "],["Statement","shift"],["",";\n        "],["Statement","my"],[""," "],["Identifier","$self"],[""," = "],["Statement","shift"],["",";\n        _immutable_read_only("],["Identifier","$name"],["",") "],["Conditional","if"],[""," "],["Identifier","@_"],["",";\n        "],["Identifier","$self"],["","->"],["Identifier","$orig"],["",";\n    };\n}\n\n"],["Repeat","for"],[""," "],["Statement","my"],[""," "],["Identifier","$name"],[""," ("],["String","qw/add_method alias_method remove_method add_attribute remove_attribute remove_package_symbol add_package_symbol/"],["",") {\n    "],["Statement","no strict"],[""," "],["String","'refs'"],["",";\n    "],["Identifier","*{"],["","__PACKAGE__."],["String","\"::"],["Identifier","$name"],["String","\""],["Identifier","}"],[""," = "],["Keyword","sub "],["","{ _immutable_cannot_call("],["Identifier","$name"],["",") };\n}\n\n"],["Keyword","sub "],["Function","class_precedence_list "],["","{\n    "],["Statement","my"],[""," "],["Identifier","$orig"],[""," = "],["Statement","shift"],["",";\n    "],["Statement","my"],[""," "],["Identifier","$self"],[""," = "],["Statement","shift"],["",";\n    "],["Identifier","@{"],[""," "],["Identifier","$self->{"],["String","__immutable"],["Identifier","}{"],["String","class_precedence_list"],["Identifier","}"],["","\n            ||= [ "],["Identifier","$self"],["","->"],["Identifier","$orig"],[""," ] "],["Identifier","}"],["",";\n}\n\n"],["Keyword","sub "],["Function","linearized_isa "],["","{\n    "],["Statement","my"],[""," "],["Identifier","$orig"],[""," = "],["Statement","shift"],["",";\n    "],["Statement","my"],[""," "],["Identifier","$self"],[""," = "],["Statement","shift"],["",";\n    "],["Identifier","@{"],[""," "],["Identifier","$self->{"],["String","__immutable"],["Identifier","}{"],["String","linearized_isa"],["Identifier","}"],[""," ||= [ "],["Identifier","$self"],["","->"],["Identifier","$orig"],[""," ] "],["Identifier","}"],["",";\n}\n\n"],["Keyword","sub "],["Function","get_all_methods "],["","{\n    "],["Statement","my"],[""," "],["Identifier","$orig"],[""," = "],["Statement","shift"],["",";\n    "],["Statement","my"],[""," "],["Identifier","$self"],[""," = "],["Statement","shift"],["",";\n    "],["Identifier","@{"],[""," "],["Identifier","$self->{"],["String","__immutable"],["Identifier","}{"],["String","get_all_methods"],["Identifier","}"],[""," ||= [ "],["Identifier","$self"],["","->"],["Identifier","$orig"],[""," ] "],["Identifier","}"],["",";\n}\n\n"],["Keyword","sub "],["Function","get_all_method_names "],["","{\n    "],["Statement","my"],[""," "],["Identifier","$orig"],[""," = "],["Statement","shift"],["",";\n    "],["Statement","my"],[""," "],["Identifier","$self"],[""," = "],["Statement","shift"],["",";\n    "],["Identifier","@{"],[""," "],["Identifier","$self->{"],["String","__immutable"],["Identifier","}{"],["String","get_all_method_names"],["Identifier","}"],[""," ||= [ "],["Identifier","$self"],["","->"],["Identifier","$orig"],[""," ] "],["Identifier","}"],["",";\n}\n\n"],["Keyword","sub "],["Function","get_all_attributes "],["","{\n    "],["Statement","my"],[""," "],["Identifier","$orig"],[""," = "],["Statement","shift"],["",";\n    "],["Statement","my"],[""," "],["Identifier","$self"],[""," = "],["Statement","shift"],["",";\n    "],["Identifier","@{"],[""," "],["Identifier","$self->{"],["String","__immutable"],["Identifier","}{"],["String","get_all_attributes"],["Identifier","}"],[""," ||= [ "],["Identifier","$self"],["","->"],["Identifier","$orig"],[""," ] "],["Identifier","}"],["",";\n}\n\n"],["Keyword","sub "],["Function","get_meta_instance "],["","{\n    "],["Statement","my"],[""," "],["Identifier","$orig"],[""," = "],["Statement","shift"],["",";\n    "],["Statement","my"],[""," "],["Identifier","$self"],[""," = "],["Statement","shift"],["",";\n    "],["Identifier","$self->{"],["String","__immutable"],["Identifier","}{"],["String","get_meta_instance"],["Identifier","}"],[""," ||= "],["Identifier","$self"],["","->"],["Identifier","$orig"],["",";\n}\n\n"],["Keyword","sub "],["Function","_method_map "],["","{\n    "],["Statement","my"],[""," "],["Identifier","$orig"],[""," = "],["Statement","shift"],["",";\n    "],["Statement","my"],[""," "],["Identifier","$self"],[""," = "],["Statement","shift"],["",";\n    "],["Identifier","$self->{"],["String","__immutable"],["Identifier","}{"],["String","_method_map"],["Identifier","}"],[""," ||= "],["Identifier","$self"],["","->"],["Identifier","$orig"],["",";\n}\n\n"],["Number","1"],["",";\n\n"],["Comment","# ABSTRACT: Implements immutability for metaclass objects"],["","\n\n"],["Comment","__END__"],["","\n\n"],["Statement","=pod"],["","\n\n"],["Statement","=head1"],[""," "],["String","NAME"],["","\n\nClass::MOP::Class::Immutable::Trait - Implements immutability for metaclass objects\n\n"],["Statement","=head1"],[""," "],["String","VERSION"],["","\n\nversion 2.1005\n\n"],["Statement","=head1"],[""," "],["String","DESCRIPTION"],["","\n\nThis class provides a pseudo-trait that is applied to immutable metaclass\nobjects. In reality, it is simply a parent class.\n\nIt implements caching and read-only-ness for various metaclass methods.\n\n"],["Statement","=head1"],[""," "],["String","AUTHOR"],["","\n\nMoose is maintained by the Moose Cabal, along with the help of many contributors. See "],["Identifier","L<Moose/CABAL>"],[""," and "],["Identifier","L<Moose/CONTRIBUTORS>"],[""," for details.\n\n"],["Statement","=head1"],[""," "],["String","COPYRIGHT AND LICENSE"],["","\n\nThis software is copyright (c) 2013 by Infinity Interactive, Inc..\n\nThis is free software; you can redistribute it and/or modify it under\nthe same terms as the Perl 5 programming language system itself.\n\n"],["Statement","=cut"],["","\n"]]