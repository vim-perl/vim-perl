[["Statement","package"],["Type"," Moose::Meta::Role::Application::ToInstance"],["",";\n"],["PreProc","BEGIN "],["","{\n  "],["Identifier","$"],["Type","Moose::Meta::Role::Application::ToInstance::"],["Identifier","AUTHORITY"],[""," = "],["String","'cpan:STEVAN'"],["",";\n}\n{\n  "],["Identifier","$"],["Type","Moose::Meta::Role::Application::ToInstance::"],["Identifier","VERSION"],[""," = "],["String","'2.1005'"],["",";\n}\n\n"],["Statement","use strict"],["",";\n"],["Statement","use warnings"],["",";\n"],["Statement","use "],["","metaclass;\n\n"],["Statement","use "],["","Scalar::Util "],["String","'blessed'"],["",";\n"],["Statement","use "],["","List::MoreUtils "],["String","'all'"],["",";\n\n"],["Statement","use base"],[""," "],["String","'Moose::Meta::Role::Application'"],["",";\n\n__PACKAGE__->meta->add_attribute("],["String","'rebless_params'"],[""," => (\n    "],["String","reader"],["","  => "],["String","'rebless_params'"],["",",\n    "],["String","default"],[""," => "],["Keyword","sub "],["","{ {} },\n    Class::MOP::_definition_context(),\n));\n\n"],["Keyword","sub "],["Function","apply "],["","{\n    "],["Statement","my"],[""," ( "],["Identifier","$self"],["",", "],["Identifier","$role"],["",", "],["Identifier","$object"],["",", "],["Identifier","$args"],[""," ) = "],["Identifier","@_"],["",";\n\n    "],["Statement","my"],[""," "],["Identifier","$obj_meta"],[""," = Class::MOP::class_of("],["Identifier","$object"],["",") || "],["String","'Moose::Meta::Class'"],["",";\n\n    "],["Comment","# This is a special case to handle the case where the object's metaclass"],["","\n    "],["Comment","# is a Class::MOP::Class, but _not_ a Moose::Meta::Class (for example,"],["","\n    "],["Comment","# when applying a role to a Moose::Meta::Attribute object)."],["","\n    "],["Identifier","$obj_meta"],[""," = "],["String","'Moose::Meta::Class'"],["","\n        "],["Conditional","unless"],[""," "],["Identifier","$obj_meta"],["","->isa("],["String","'Moose::Meta::Class'"],["",");\n\n    "],["Statement","my"],[""," "],["Identifier","$class"],[""," = "],["Identifier","$obj_meta"],["","->create_anon_class(\n        "],["String","superclasses"],[""," => [ blessed("],["Identifier","$object"],["",") ],\n        "],["String","roles"],[""," => [ "],["Identifier","$role"],["",", "],["Statement","keys"],["","("],["Identifier","%$args"],["",") ? ("],["Identifier","$args"],["",") : () ],\n        "],["String","cache"],[""," => (all { "],["Identifier","$_"],[""," "],["Operator","eq"],[""," "],["String","'-alias'"],[""," || "],["Identifier","$_"],[""," "],["Operator","eq"],[""," "],["String","'-excludes'"],[""," } "],["Statement","keys"],[""," "],["Identifier","%$args"],["","),\n    );\n\n    "],["Identifier","$class"],["","->rebless_instance( "],["Identifier","$object"],["",", "],["Identifier","%{"],[""," "],["Identifier","$self"],["","->rebless_params "],["Identifier","}"],[""," );\n}\n\n"],["Number","1"],["",";\n\n"],["Comment","# ABSTRACT: Compose a role into an instance"],["","\n\n"],["Comment","__END__"],["","\n\n"],["Statement","=pod"],["","\n\n"],["Statement","=head1"],[""," "],["String","NAME"],["","\n\nMoose::Meta::Role::Application::ToInstance - Compose a role into an instance\n\n"],["Statement","=head1"],[""," "],["String","VERSION"],["","\n\nversion 2.1005\n\n"],["Statement","=head1"],[""," "],["String","DESCRIPTION"],["","\n\n"],["Statement","=head2"],[""," "],["String","METHODS"],["","\n\n"],["Statement","=over"],[""," "],["Number","4"],["","\n\n"],["Statement","=item"],[""," "],["Identifier","B<new>"],["","\n\n"],["Statement","=item"],[""," "],["Identifier","B<meta>"],["","\n\n"],["Statement","=item"],[""," "],["Identifier","B<apply>"],["","\n\n"],["Statement","=item"],[""," "],["Identifier","B<rebless_params>"],["","\n\n"],["Statement","=back"],["","\n\n"],["Statement","=head1"],[""," "],["String","BUGS"],["","\n\nSee "],["Identifier","L<Moose/BUGS>"],[""," for details on reporting bugs.\n\n"],["Statement","=head1"],[""," "],["String","AUTHOR"],["","\n\nMoose is maintained by the Moose Cabal, along with the help of many contributors. See "],["Identifier","L<Moose/CABAL>"],[""," and "],["Identifier","L<Moose/CONTRIBUTORS>"],[""," for details.\n\n"],["Statement","=head1"],[""," "],["String","COPYRIGHT AND LICENSE"],["","\n\nThis software is copyright (c) 2013 by Infinity Interactive, Inc..\n\nThis is free software; you can redistribute it and/or modify it under\nthe same terms as the Perl 5 programming language system itself.\n\n"],["Statement","=cut"],["","\n"]]