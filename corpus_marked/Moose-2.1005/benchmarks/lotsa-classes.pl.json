[["PreProc","#!/usr/bin/env perl"],["","\n\n"],["Statement","use warnings"],[""," "],["String","FATAL"],[""," => "],["String","'all'"],["",";\n"],["Statement","use strict"],["",";\n"],["Statement","use "],["","File::Temp;\n"],["Statement","use "],["","Path::Class;\n\n"],["Statement","my"],[""," "],["Identifier","$number_of_classes"],[""," = "],["Statement","shift"],[""," || "],["Number","1500"],["",";\n"],["Statement","my"],[""," "],["Identifier","$number_of_attributes"],[""," = "],["Statement","shift"],[""," || "],["Number","20"],["",";\n"],["Statement","my"],[""," "],["Identifier","$t"],[""," = "],["Statement","shift"],[""," || File::Temp->newdir;\n"],["Statement","my"],[""," "],["Identifier","$tmp"],[""," = dir("],["Identifier","$t"],["",");\n"],["Identifier","$tmp"],["","->rmtree;\n"],["Identifier","$tmp"],["","->mkpath;\n("],["Statement","-d"],[""," "],["Identifier","$tmp"],["",") "],["Operator","or"],[""," "],["Statement","die"],[""," "],["String","\"not a dir: "],["Identifier","$tmp"],["String","\""],["",";\n"],["Comment","#print \"$tmp\\n\";"],["","\n\n"],["Statement","my"],[""," "],["Identifier","%class_writer"],[""," = (\n    "],["String","'Moose'"],[""," => "],["Keyword","sub "],["","{\n        "],["Statement","my"],[""," "],["Identifier","$name"],[""," = "],["Statement","shift"],["",";\n        "],["Statement","my"],[""," "],["Identifier","$attrs"],[""," = "],["Statement","join"],[""," "],["String","''"],["",", "],["Statement","map"],[""," "],["Statement","{"],[""," "],["String","\"has '"],["Identifier","$_"],["String","' => ( is => 'ro', isa => 'Str' );"],["Special","\\n"],["String","\""],[""," "],["Statement","}"],[""," "],["Identifier","@_"],["",";\n        "],["Statement","return"],[""," "],["String","qq{package "],["Identifier","$name"],["String",";"],["Special","\\n"],["String","use Moose;"],["Special","\\n"],["Identifier","$attrs"],["Special","\\n"],["String","1;"],["Special","\\n"],["String","__END__"],["Special","\\n"],["String","}"],["",";\n    },\n    "],["String","'MooseImmutable'"],[""," => "],["Keyword","sub "],["","{\n        "],["Statement","my"],[""," "],["Identifier","$name"],[""," = "],["Statement","shift"],["",";\n        "],["Statement","my"],[""," "],["Identifier","$attrs"],[""," = "],["Statement","join"],[""," "],["String","''"],["",", "],["Statement","map"],[""," "],["Statement","{"],[""," "],["String","\"has '"],["Identifier","$_"],["String","' => ( is => 'ro', isa => 'Str' );"],["Special","\\n"],["String","\""],[""," "],["Statement","}"],[""," "],["Identifier","@_"],["",";\n        "],["Statement","return"],[""," "],["String","qq{package "],["Identifier","$name"],["String",";"],["Special","\\n"],["String","use Moose;"],["Special","\\n"],["Identifier","$attrs"],["Special","\\n"],["String","__PACKAGE__->meta->make_immutable;"],["Special","\\n"],["String","1;"],["Special","\\n"],["String","__END__"],["Special","\\n"],["String","}"],["",";\n    },\n    "],["String","'Moo'"],[""," => "],["Keyword","sub "],["","{\n        "],["Statement","my"],[""," "],["Identifier","$name"],[""," = "],["Statement","shift"],["",";\n        "],["Statement","my"],[""," "],["Identifier","$attrs"],[""," = "],["Statement","join"],["String","''"],["",", "],["Statement","map"],[""," "],["Statement","{"],[""," "],["String","\"has '"],["Identifier","$_"],["String","' => ( is => 'ro', isa => 'Str' );"],["Special","\\n"],["String","\""],[""," "],["Statement","}"],[""," "],["Identifier","@_"],["",";\n        "],["Statement","return"],[""," "],["String","qq{package "],["Identifier","$name"],["String",";"],["Special","\\n"],["String","use Moo;"],["Special","\\n"],["Identifier","$attrs"],["Special","\\n"],["String","1;"],["Special","\\n"],["String","__END__"],["Special","\\n"],["String","}"],["",";\n    },\n    "],["String","'Mo'"],[""," => "],["Keyword","sub "],["","{\n        "],["Statement","my"],[""," "],["Identifier","$name"],[""," = "],["Statement","shift"],["",";\n        "],["Statement","my"],[""," "],["Identifier","$attrs"],[""," = "],["Statement","join"],["String","''"],["",", "],["Statement","map"],[""," "],["Statement","{"],[""," "],["String","\"has '"],["Identifier","$_"],["String","' => ( is => 'ro', isa => 'Str' );"],["Special","\\n"],["String","\""],[""," "],["Statement","}"],[""," "],["Identifier","@_"],["",";\n        "],["Statement","return"],[""," "],["String","qq{package "],["Identifier","$name"],["String",";"],["Special","\\n"],["String","use Mo;"],["Special","\\n"],["Identifier","$attrs"],["Special","\\n"],["String","1;"],["Special","\\n"],["String","__END__"],["Special","\\n"],["String","}"],["",";\n    },\n    "],["String","'Mouse'"],[""," => "],["Keyword","sub "],["","{\n        "],["Statement","my"],[""," "],["Identifier","$name"],[""," = "],["Statement","shift"],["",";\n        "],["Statement","my"],[""," "],["Identifier","$attrs"],[""," = "],["Statement","join"],["String","''"],["",", "],["Statement","map"],[""," "],["Statement","{"],[""," "],["String","\"has '"],["Identifier","$_"],["String","' => ( is => 'ro', isa => 'Str' );"],["Special","\\n"],["String","\""],[""," "],["Statement","}"],[""," "],["Identifier","@_"],["",";\n        "],["Statement","return"],[""," "],["String","qq{package "],["Identifier","$name"],["String",";"],["Special","\\n"],["String","use Mouse;"],["Special","\\n"],["Identifier","$attrs"],["Special","\\n"],["String","1;"],["Special","\\n"],["String","__END__"],["Special","\\n"],["String","}"],["",";\n    },\n    "],["String","'plain-package'"],[""," => "],["Keyword","sub "],["","{\n        "],["Statement","my"],[""," "],["Identifier","$name"],[""," = "],["Statement","shift"],["",";\n        "],["Statement","my"],[""," "],["Identifier","$attrs"],[""," = "],["Statement","join"],["String","''"],["",", "],["Statement","map"],[""," "],["Statement","{"],[""," "],["String","\"sub "],["Identifier","$_"],["String"," {}"],["Special","\\n"],["String","\""],[""," "],["Statement","}"],[""," "],["Identifier","@_"],["",";\n        "],["Statement","return"],[""," "],["String","qq{package "],["Identifier","$name"],["String",";"],["Special","\\n"],["Identifier","$attrs"],["Special","\\n"],["String","1;"],["Special","\\n"],["String","__END__"],["Special","\\n"],["String","}"],["",";\n    },\n);\n\n"],["Statement","my"],[""," "],["Identifier","$class_prefix"],[""," = "],["String","'TmpClassThingy'"],["",";\n"],["Statement","my"],[""," "],["Identifier","%lib_map"],["",";\n"],["Statement","my"],[""," "],["Identifier","@attribute_names"],[""," = "],["Statement","map"],[""," "],["Statement","{"],[""," "],["String","'a'"],[""," . "],["Identifier","$_"],[""," "],["Statement","}"],[""," "],["Number","1"],[""," .. "],["Identifier","$number_of_attributes"],["",";\n"],["Repeat","for"],[""," "],["Statement","my"],[""," "],["Identifier","$module"],[""," ("],["Statement","sort"],[""," "],["Statement","keys"],[""," "],["Identifier","%class_writer"],["",") {\n    "],["Statement","my"],[""," "],["Identifier","$lib"],[""," = "],["Identifier","$tmp"],["","->subdir("],["Identifier","$module"],[""," . "],["String","'-lib'"],["",");\n    "],["Identifier","$lib"],["","->mkpath;\n    "],["Statement","my"],[""," "],["Identifier","$all_fh"],[""," = "],["Identifier","$lib"],["","->file("],["String","'All.pm'"],["",")->openw;\n    "],["Repeat","for"],[""," "],["Statement","my"],[""," "],["Identifier","$n"],[""," ("],["Number","1"],[""," .. "],["Identifier","$number_of_classes"],["",") {\n        "],["Statement","my"],[""," "],["Identifier","$class_name"],[""," = "],["Identifier","$class_prefix"],[""," . "],["Identifier","$n"],["",";\n        "],["Statement","my"],[""," "],["Identifier","$fh"],[""," = "],["Identifier","$lib"],["","->file("],["Identifier","$class_name"],[""," . "],["String","'.pm'"],["",")->openw;\n        "],["Identifier","$fh"],["","->"],["Statement","say"],["","("],["Identifier","$class_writer{$module}"],["","->("],["Identifier","$class_name"],["",", "],["Identifier","@attribute_names"],["",")) "],["Operator","or"],[""," "],["Statement","die"],["",";\n        "],["Identifier","$fh"],["","->"],["Statement","close"],[""," "],["Operator","or"],[""," "],["Statement","die"],["",";\n        "],["Identifier","$all_fh"],["","->"],["Statement","say"],["","("],["String","\"use "],["Identifier","$class_name"],["String",";\""],["",") "],["Operator","or"],[""," "],["Statement","die"],["",";\n    }\n    "],["Identifier","$all_fh"],["","->"],["Statement","say"],["","("],["String","'1;'"],["",") "],["Operator","or"],[""," "],["Statement","die"],["",";\n    "],["Identifier","$all_fh"],["","->"],["Statement","close"],[""," "],["Operator","or"],[""," "],["Statement","die"],["",";\n    "],["Identifier","$lib_map{$module}"],[""," = "],["Identifier","$lib"],["",";\n}\n\n"],["Comment","#$DB::single = 1;"],["","\n"],["Repeat","for"],[""," "],["Statement","my"],[""," "],["Identifier","$module"],[""," ("],["Statement","sort"],[""," "],["Statement","keys"],[""," "],["Identifier","%lib_map"],["",") {\n    "],["Statement","my"],[""," "],["Identifier","$lib"],[""," = "],["Identifier","$lib_map{$module}"],["",";\n    "],["Statement","print"],[""," "],["String","\""],["Identifier","$module"],["Special","\\n"],["String","\""],["",";\n    "],["Statement","my"],[""," "],["Identifier","$cmd"],[""," = "],["String","\"time -p "],["Identifier","$^X"],["String"," -I"],["Identifier","$lib"],["String"," -MAll -e '1'\""],["",";\n    "],["Statement","`"],["Identifier","$cmd"],["String"," > /dev/null 2>&1"],["Statement","`"],["","; "],["Comment","# to cache"],["","\n"],["Comment","#    print \"$cmd\\n\";"],["","\n    "],["Statement","system"],["","("],["Identifier","$cmd"],["",");\n    "],["Statement","print"],[""," "],["String","\""],["Special","\\n"],["String","\""],["",";\n}\n\n"]]