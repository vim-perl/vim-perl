[["","\n"],["Statement","package"],["Type"," BinaryTree"],["",";\n\n"],["Statement","use strict"],["",";\n"],["Statement","use warnings"],["",";\n"],["Statement","use "],["","Carp "],["String","qw/confess/"],["",";\n\n"],["Statement","use "],["","metaclass;\n\n"],["Statement","our"],[""," "],["Identifier","$VERSION"],[""," = "],["String","'0.02'"],["",";\n\nBinaryTree->meta->add_attribute("],["String","'uid'"],[""," => (\n    "],["String","reader"],["","  => "],["String","'getUID'"],["",",\n    "],["String","writer"],["","  => "],["String","'setUID'"],["",",\n    "],["String","default"],[""," => "],["Keyword","sub "],["","{\n        "],["Statement","my"],[""," "],["Identifier","$instance"],[""," = "],["Statement","shift"],["",";\n        ("],["String","\""],["Identifier","$instance"],["String","\""],[""," =~ "],["Statement","/"],["Special","\\((.*?)\\)"],["String","$"],["Statement","/"],["",")["],["Number","0"],["","];\n    }\n));\n\nBinaryTree->meta->add_attribute("],["String","'node'"],[""," => (\n    "],["String","reader"],["","   => "],["String","'getNodeValue'"],["",",\n    "],["String","writer"],["","   => "],["String","'setNodeValue'"],["",",\n    "],["String","clearer"],["","  => "],["String","'clearNodeValue'"],["",",\n    "],["String","init_arg"],[""," => "],["String","':node'"],["","\n));\n\nBinaryTree->meta->add_attribute("],["String","'parent'"],[""," => (\n    "],["String","predicate"],[""," => "],["String","'hasParent'"],["",",\n    "],["String","reader"],["","    => "],["String","'getParent'"],["",",\n    "],["String","writer"],["","    => "],["String","'setParent'"],["",",\n    "],["String","clearer"],["","   => "],["String","'clearParent'"],["",",\n));\n\nBinaryTree->meta->add_attribute("],["String","'left'"],[""," => (\n    "],["String","predicate"],[""," => "],["String","'hasLeft'"],["",",\n    "],["String","clearer"],["","   => "],["String","'clearLeft'"],["",",\n    "],["String","reader"],["","    => "],["String","'getLeft'"],["",",\n    "],["String","writer"],[""," => {\n        "],["String","'setLeft'"],[""," => "],["Keyword","sub "],["","{\n            "],["Statement","my"],[""," ("],["Identifier","$self"],["",", "],["Identifier","$tree"],["",") = "],["Identifier","@_"],["",";\n            confess "],["String","\"undef left\""],[""," "],["Conditional","unless"],[""," "],["Operator","defined"],[""," "],["Identifier","$tree"],["",";\n                "],["Identifier","$tree"],["","->setParent("],["Identifier","$self"],["",") "],["Conditional","if"],[""," "],["Operator","defined"],[""," "],["Identifier","$tree"],["",";\n            "],["Identifier","$self->{"],["String","'left'"],["Identifier","}"],[""," = "],["Identifier","$tree"],["",";\n            "],["Identifier","$self"],["",";\n        }\n   },\n));\n\nBinaryTree->meta->add_attribute("],["String","'right'"],[""," => (\n    "],["String","predicate"],[""," => "],["String","'hasRight'"],["",",\n    "],["String","clearer"],["","   => "],["String","'clearRight'"],["",",\n    "],["String","reader"],["","    => "],["String","'getRight'"],["",",\n    "],["String","writer"],[""," => {\n        "],["String","'setRight'"],[""," => "],["Keyword","sub "],["","{\n            "],["Statement","my"],[""," ("],["Identifier","$self"],["",", "],["Identifier","$tree"],["",") = "],["Identifier","@_"],["",";\n            confess "],["String","\"undef right\""],[""," "],["Conditional","unless"],[""," "],["Operator","defined"],[""," "],["Identifier","$tree"],["",";\n                "],["Identifier","$tree"],["","->setParent("],["Identifier","$self"],["",") "],["Conditional","if"],[""," "],["Operator","defined"],[""," "],["Identifier","$tree"],["",";\n            "],["Identifier","$self->{"],["String","'right'"],["Identifier","}"],[""," = "],["Identifier","$tree"],["",";\n            "],["Identifier","$self"],["",";\n        }\n    }\n));\n\n"],["Keyword","sub "],["Function","new "],["","{\n    "],["Statement","my"],[""," "],["Identifier","$class"],[""," = "],["Statement","shift"],["",";\n    "],["Identifier","$class"],["","->meta->new_object("],["String","':node'"],[""," => "],["Statement","shift"],["",");\n}\n\n"],["Keyword","sub "],["Function","removeLeft "],["","{\n    "],["Statement","my"],[""," ("],["Identifier","$self"],["",") = "],["Identifier","@_"],["",";\n    "],["Statement","my"],[""," "],["Identifier","$left"],[""," = "],["Identifier","$self"],["","->getLeft();\n    "],["Identifier","$left"],["","->clearParent;\n    "],["Identifier","$self"],["","->clearLeft;\n    "],["Statement","return"],[""," "],["Identifier","$left"],["",";\n}\n\n"],["Keyword","sub "],["Function","removeRight "],["","{\n    "],["Statement","my"],[""," ("],["Identifier","$self"],["",") = "],["Identifier","@_"],["",";\n    "],["Statement","my"],[""," "],["Identifier","$right"],[""," = "],["Identifier","$self"],["","->getRight;\n    "],["Identifier","$right"],["","->clearParent;\n    "],["Identifier","$self"],["","->clearRight;\n    "],["Statement","return"],[""," "],["Identifier","$right"],["",";\n}\n\n"],["Keyword","sub "],["Function","isLeaf "],["","{\n        "],["Statement","my"],[""," ("],["Identifier","$self"],["",") = "],["Identifier","@_"],["",";\n        "],["Statement","return"],[""," (!"],["Identifier","$self"],["","->hasLeft && !"],["Identifier","$self"],["","->hasRight);\n}\n\n"],["Keyword","sub "],["Function","isRoot "],["","{\n        "],["Statement","my"],[""," ("],["Identifier","$self"],["",") = "],["Identifier","@_"],["",";\n        "],["Statement","return"],[""," !"],["Identifier","$self"],["","->hasParent;\n}\n\n"],["Keyword","sub "],["Function","traverse "],["","{\n        "],["Statement","my"],[""," ("],["Identifier","$self"],["",", "],["Identifier","$func"],["",") = "],["Identifier","@_"],["",";\n    "],["Identifier","$func"],["","->("],["Identifier","$self"],["",");\n    "],["Identifier","$self"],["","->getLeft->traverse("],["Identifier","$func"],["",")  "],["Conditional","if"],[""," "],["Identifier","$self"],["","->hasLeft;\n    "],["Identifier","$self"],["","->getRight->traverse("],["Identifier","$func"],["",") "],["Conditional","if"],[""," "],["Identifier","$self"],["","->hasRight;\n}\n\n"],["Keyword","sub "],["Function","mirror "],["","{\n    "],["Statement","my"],[""," ("],["Identifier","$self"],["",") = "],["Identifier","@_"],["",";\n    "],["Comment","# swap left for right"],["","\n    "],["Conditional","if"],["","( "],["Identifier","$self"],["","->hasLeft && "],["Identifier","$self"],["","->hasRight) {\n      "],["Statement","my"],[""," "],["Identifier","$left"],[""," = "],["Identifier","$self"],["","->getLeft;\n      "],["Statement","my"],[""," "],["Identifier","$right"],[""," = "],["Identifier","$self"],["","->getRight;\n      "],["Identifier","$self"],["","->setLeft("],["Identifier","$right"],["",");\n      "],["Identifier","$self"],["","->setRight("],["Identifier","$left"],["",");\n    } "],["Conditional","elsif"],["","( "],["Identifier","$self"],["","->hasLeft && !"],["Identifier","$self"],["","->hasRight){\n      "],["Statement","my"],[""," "],["Identifier","$left"],[""," = "],["Identifier","$self"],["","->getLeft;\n      "],["Identifier","$self"],["","->clearLeft;\n      "],["Identifier","$self"],["","->setRight("],["Identifier","$left"],["",");\n    } "],["Conditional","elsif"],["","( !"],["Identifier","$self"],["","->hasLeft && "],["Identifier","$self"],["","->hasRight){\n      "],["Statement","my"],[""," "],["Identifier","$right"],[""," = "],["Identifier","$self"],["","->getRight;\n      "],["Identifier","$self"],["","->clearRight;\n      "],["Identifier","$self"],["","->setLeft("],["Identifier","$right"],["",");\n    }\n\n    "],["Comment","# and recurse"],["","\n    "],["Identifier","$self"],["","->getLeft->mirror  "],["Conditional","if"],[""," "],["Identifier","$self"],["","->hasLeft;\n    "],["Identifier","$self"],["","->getRight->mirror "],["Conditional","if"],[""," "],["Identifier","$self"],["","->hasRight;\n    "],["Identifier","$self"],["",";\n}\n\n"],["Keyword","sub "],["Function","size "],["","{\n    "],["Statement","my"],[""," ("],["Identifier","$self"],["",") = "],["Identifier","@_"],["",";\n    "],["Statement","my"],[""," "],["Identifier","$size"],[""," = "],["Number","1"],["",";\n    "],["Identifier","$size"],[""," += "],["Identifier","$self"],["","->getLeft->size  "],["Conditional","if"],[""," "],["Identifier","$self"],["","->hasLeft;\n    "],["Identifier","$size"],[""," += "],["Identifier","$self"],["","->getRight->size "],["Conditional","if"],[""," "],["Identifier","$self"],["","->hasRight;\n    "],["Statement","return"],[""," "],["Identifier","$size"],["",";\n}\n\n"],["Keyword","sub "],["Function","height "],["","{\n    "],["Statement","my"],[""," ("],["Identifier","$self"],["",") = "],["Identifier","@_"],["",";\n    "],["Statement","my"],[""," ("],["Identifier","$left_height"],["",", "],["Identifier","$right_height"],["",") = ("],["Number","0"],["",", "],["Number","0"],["",");\n    "],["Identifier","$left_height"],[""," = "],["Identifier","$self"],["","->getLeft->height()   "],["Conditional","if"],[""," "],["Identifier","$self"],["","->hasLeft();\n    "],["Identifier","$right_height"],[""," = "],["Identifier","$self"],["","->getRight->height() "],["Conditional","if"],[""," "],["Identifier","$self"],["","->hasRight();\n    "],["Statement","return"],[""," "],["Number","1"],[""," + (("],["Identifier","$left_height"],[""," > "],["Identifier","$right_height"],["",") ? "],["Identifier","$left_height"],[""," : "],["Identifier","$right_height"],["",");\n}\n\n"],["Number","1"],["",";\n"]]