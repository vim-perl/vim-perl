[["Statement","package"],["Type"," MMHelper"],["",";\n\n"],["Statement","use strict"],["",";\n"],["Statement","use warnings"],["",";\n\n"],["Statement","use "],["","Config;\n"],["Statement","use "],["","Cwd "],["String","qw( abs_path )"],["",";\n"],["Statement","use "],["","File::Basename "],["String","qw( dirname )"],["",";\n\n"],["Keyword","sub "],["Function","ccflags_dyn "],["","{\n    "],["Statement","my"],[""," "],["Identifier","$is_dev"],[""," = "],["Statement","shift"],["",";\n\n    "],["Statement","my"],[""," "],["Identifier","$ccflags"],[""," = "],["String","q<( $Config::Config{ccflags} || '' ) . ' -I.'>"],["",";\n    "],["Identifier","$ccflags"],[""," .= "],["String","q< . ' -Wall -Wdeclaration-after-statement'>"],["","\n        "],["Conditional","if"],[""," "],["Identifier","$is_dev"],["",";\n\n    "],["Statement","return"],[""," "],["Identifier","$ccflags"],["",";\n}\n\n"],["Keyword","sub "],["Function","ccflags_static "],["","{\n    "],["Statement","my"],[""," "],["Identifier","$is_dev"],[""," = "],["Statement","shift"],["",";\n\n    "],["Statement","return"],[""," "],["Statement","eval"],["","(ccflags_dyn("],["Identifier","$is_dev"],["","));\n}\n\n"],["Keyword","sub "],["Function","mm_args "],["","{\n    "],["Statement","my"],[""," ( "],["Identifier","@object"],["",", "],["Identifier","%xs"],[""," );\n\n    "],["Repeat","for"],[""," "],["Statement","my"],[""," "],["Identifier","$xs"],[""," ( "],["Statement","glob"],[""," "],["String","\"xs/*.xs\""],[""," ) {\n        ( "],["Statement","my"],[""," "],["Identifier","$c"],[""," = "],["Identifier","$xs"],[""," ) =~ "],["Statement","s/"],["Special","\\."],["String","xs$"],["Statement","/"],["String",".c"],["Statement","/i"],["",";\n        ( "],["Statement","my"],[""," "],["Identifier","$o"],[""," = "],["Identifier","$xs"],[""," ) =~ "],["Statement","s/"],["Special","\\."],["String","xs$"],["Statement","/"],["Special","\\$"],["String","(OBJ_EXT)"],["Statement","/i"],["",";\n\n        "],["Identifier","$xs{$xs}"],[""," = "],["Identifier","$c"],["",";\n        "],["Statement","push"],[""," "],["Identifier","@object"],["",", "],["Identifier","$o"],["",";\n    }\n\n    "],["Repeat","for"],[""," "],["Statement","my"],[""," "],["Identifier","$c"],[""," ( "],["Statement","glob"],[""," "],["String","\"*.c\""],[""," ) {\n        ( "],["Statement","my"],[""," "],["Identifier","$o"],[""," = "],["Identifier","$c"],[""," ) =~ "],["Statement","s/"],["Special","\\."],["String","c$"],["Statement","/"],["Special","\\$"],["String","(OBJ_EXT)"],["Statement","/i"],["",";\n        "],["Statement","push"],[""," "],["Identifier","@object"],["",", "],["Identifier","$o"],["",";\n    }\n\n    "],["Statement","return"],[""," (\n        "],["String","clean"],["","   => { "],["String","FILES"],[""," => "],["Statement","join"],["","( "],["String","q{ }"],["",", "],["Identifier","@object"],[""," ) },\n        "],["String","OBJECT"],[""," => "],["Statement","join"],["","( "],["String","q{ }"],["",", "],["Identifier","@object"],[""," ),\n        "],["String","XS"],["","     => \\"],["Identifier","%xs"],["",",\n    );\n}\n\n"],["Keyword","sub "],["Function","my_package_subs "],["","{\n    "],["Statement","return"],[""," "],["String","<<'EOP'"],["",";\n"],["String","{"],["","\n"],["String","package MY;"],["","\n\n"],["String","use Config;"],["","\n\n"],["String","sub const_cccmd {"],["","\n"],["String","    my $ret = shift->SUPER::const_cccmd(@_);"],["","\n"],["String","    return q{} unless $ret;"],["","\n\n"],["String","    if ($Config{cc} =~ /^cl\\b/i) {"],["","\n"],["String","        warn 'you are using MSVC... my condolences.';"],["","\n"],["String","        $ret .= ' /Fo$@';"],["","\n"],["String","    }"],["","\n"],["String","    else {"],["","\n"],["String","        $ret .= ' -o $@';"],["","\n"],["String","    }"],["","\n\n"],["String","    return $ret;"],["","\n"],["String","}"],["","\n\n"],["String","sub postamble {"],["","\n"],["String","    return <<'EOF'"],["",";\n"],["String","$(OBJECT) : mop.h"],["","\n"],["String","EOF"],["","\n"],["String","}"],["","\n"],["String","}"],["","\n"],["String","EOP"],["","\n}\n\n"],["Number","1"],["",";\n"]]