[["Statement","package"],["Type"," inc::ExtractInlineTests"],["",";\n\n"],["Statement","use "],["","Moose;\n\nwith "],["String","'Dist::Zilla::Role::FileGatherer'"],["",";\n\n"],["Statement","use "],["","File::Basename "],["String","qw( basename )"],["",";\n"],["Statement","use "],["","File::Find::Rule;\n"],["Statement","use "],["","File::Spec;\n"],["Statement","use "],["","File::Temp "],["String","qw( tempdir )"],["",";\n"],["Statement","use "],["","inc::MyInline;\n"],["Statement","use "],["","Test::Inline;\n\n"],["Keyword","sub "],["Function","gather_files "],["","{\n    "],["Statement","my"],[""," "],["Identifier","$self"],[""," = "],["Statement","shift"],["",";\n    "],["Statement","my"],[""," "],["Identifier","$arg"],["","  = "],["Statement","shift"],["",";\n\n    "],["Statement","my"],[""," "],["Identifier","$inline"],[""," = Test::Inline->new(\n        "],["String","verbose"],["","        => "],["Number","0"],["",",\n        "],["String","ExtractHandler"],[""," => "],["String","'My::Extract'"],["",",\n        "],["String","ContentHandler"],[""," => "],["String","'My::Content'"],["",",\n        "],["String","OutputHandler"],["","  => My::Output->new("],["Identifier","$self"],["","),\n    );\n\n    "],["Repeat","for"],[""," "],["Statement","my"],[""," "],["Identifier","$pod"],[""," (\n        File::Find::Rule->file->name("],["String","qr/"],["Special","\\."],["String","pod$/"],["",")->in("],["String","'lib/Moose/Cookbook'"],["",") ) {\n        "],["Identifier","$inline"],["","->add("],["Identifier","$pod"],["",");\n    }\n\n    "],["Identifier","$inline"],["","->save;\n}\n\n{\n    "],["Statement","package"],["Type"," My::Output"],["",";\n\n    "],["Keyword","sub "],["Function","new "],["","{\n        "],["Statement","my"],[""," "],["Identifier","$class"],[""," = "],["Statement","shift"],["",";\n        "],["Statement","my"],[""," "],["Identifier","$dzil"],["","  = "],["Statement","shift"],["",";\n\n        "],["Statement","return"],[""," "],["Operator","bless"],[""," { "],["String","dzil"],[""," => "],["Identifier","$dzil"],[""," }, "],["Identifier","$class"],["",";\n    }\n\n    "],["Keyword","sub "],["Function","write "],["","{\n        "],["Statement","my"],[""," "],["Identifier","$self"],["","    = "],["Statement","shift"],["",";\n        "],["Statement","my"],[""," "],["Identifier","$name"],["","    = "],["Statement","shift"],["",";\n        "],["Statement","my"],[""," "],["Identifier","$content"],[""," = "],["Statement","shift"],["",";\n\n        "],["Identifier","$name"],[""," =~ "],["Statement","s/"],["String","^moose_cookbook_"],["Statement","//"],["",";\n\n        "],["Identifier","$self->{"],["String","dzil"],["Identifier","}"],["","->add_file(\n            Dist::Zilla::File::InMemory->new(\n                "],["String","name"],["","    => "],["String","\"t/recipes/"],["Identifier","$name"],["String","\""],["",",\n                "],["String","content"],[""," => "],["Identifier","$content"],["",",\n            )\n        );\n\n        "],["Statement","return"],[""," "],["Number","1"],["",";\n    }\n}\n\n"],["Number","1"],["",";\n"]]